<!DOCTYPE html>
<html>
<head>
    <title>UGA-WRF Viewer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Funnel+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div style = "text-align:center">
    <h1>UGA-WRF Viewer</h1>
    <label for="runSelector">Select Run:</label>
    <select id="runSelector">
    </select>
    <p>(YYYY-MM-DD HH:MM:SS UTC)</p>
    <h2>Weather Maps</h2>
    <label for="dropdown">Select Product:</label>
    <div class="dropdown">
        <button class="dropbtn">Surface</button>
        <div class="dropdown-content">
            <a id="temperature" href="#">2m Temperature</a>
            <a id="dewp" href="#">2m Dewpoint</a>
            <a id="wind" href="#">10m Wind Speed</a>
            <a id="wind_gust" href="#">10m Wind Gust</a>
            <a id="pressure" href="#">MSLP</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn">Precip</button>
        <div class="dropdown-content">
            <a id="comp_reflectivity"href="#">Composite Reflectivity</a>
            <a id="total_precip" href="#">Total Precipitation</a>
            <a id="1hr_precip" href="#">1-Hour Precipitation</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn">Aloft - Temps</button>
        <div class="dropdown-content">
            <a id="temp_850mb" href="#">850mb Temperatures</a>
            <a id="temp_700mb" href="#">700mb Temperatures</a>
            <a id="temp_500mb" href="#">500mb Temperatures</a>
            <a id="temp_300mb" href="#">300mb Temperatures</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn">Aloft - Winds</button>
        <div class="dropdown-content">
            <a id="wind_850mb" href="#">850mb Winds</a>
            <a id="wind_700mb" href="#">700mb Winds</a>
            <a id="wind_500mb" href="#">500mb Winds</a>
            <a id="wind_300mb" href="#">300mb Winds</a>
        </div>
    </div>  
    <div class="dropdown">
        <button class="dropbtn">Aloft - Moisture</button>
        <div class="dropdown-content">
            <a id="td_850mb" href="#">850mb Dew Point</a>
            <a id="td_700mb" href="#">700mb Dew Point</a>
            <a id="td_500mb" href="#">500mb Dew Point</a>
            <a id="td_300mb" href="#">300mb Dew Point</a>
            <a id="cloudcover" href="#">Cloud Cover</a>
            <a id="echo_tops" href="#">Echo Tops</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn">Severe</button>
        <div class="dropdown-content">
            <a id="helicity" href="#">Helicity Tracks</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn">Winter</button>
        <div class="dropdown-content">
            <a id="snowfall" href="#">Total Snow Accumulation</a>
            <a id="1hr_snowfall" href="#">1-Hour Snow Accumulation</a>
        </div>
    </div>
    <br>
    <div class="multi-container" id="multiContainer">
    <img id="weatherImage" src="" alt="Model Image" width="600"/>
    <img id="secondaryImage" src="" alt="Secondary Image" width="600" height="450" style="display: none;">
    </div>
    <br>
    <br>
    <label for="timeSlider">Timestep:</label>
    <input type="range" id="timeSlider" min="1" max="24" value="0"/>
    <label id="timeLabel">0</label>
    <br>
    <button type="button" id="playButton">Play</button>
    <button type="button" disabled id="pauseButton">Pause</button>
    <abbr><label for="speedSelector">Frame Interval:</label></abbr>
    <select id="speedSelector">
        <option value="1000">1sec</option>
        <option value="500">0.5sec</option>
        <option value="200">0.2sec</option>
    </select>
    <br>
    <label for="multiEnabler">Secondary Display</label>
    <input type="checkbox" id="multiEnabler">
    <label for="multiSelector">Type:</label>
    <select id="multiSelector" disabled>
        <option value="map">Secondary Map</option>
        <option value="skewt">SkewT</option>
    </select>
    <select id="multiSubchooser" disabled>
    </select>
    <h2>Upper Air Plots</h2>
    <p>Use timestep slider above. Click and hold to enlarge.</p>
    <div class="skewtContainer">
    <img class="skewtimg" id="sahn" src="#" alt="Upper Air Plot for AHN" width="300"/>
    <img loading="lazy" class="skewtimg" id="scni" src="#" alt="Upper Air Plot for CNI" width="300"/>
    <img loading="lazy" class="skewtimg" id="satl" src="#" alt="Upper Air Plot for ATL" width="300"/>
    <img loading="lazy" class="skewtimg" id="smcn" src="#" alt="Upper Air Plot for MCN" width="300"/>
    <img loading="lazy" class="skewtimg" id="srmg" src="#" alt="Upper Air Plot for RMG" width="300"/>
    <img loading="lazy" class="skewtimg" id="scsg" src="#" alt="Upper Air Plot for CSG" width="300"/>
    <img loading="lazy" class="skewtimg" id="sffc" src="#" alt="Upper Air Plot for FFC" width="300"/>
    <img loading="lazy" class="skewtimg" id="sbmx" src="#" alt="Upper Air Plot for BMX" width="300"/>
    <img loading="lazy" class="skewtimg" id="sohx" src="#" alt="Upper Air Plot for OHX" width="300"/>
    <img loading="lazy" class="skewtimg" id="sgsp" src="#" alt="Upper Air Plot for GSP" width="300"/>
    </div>
    <h2>Point Data</h2>
    <label for="textSelector">Select Airport</label>
    <select id="textSelector">
        <option value="ahn">AHN</option>
        <option value="cni">CNI</option>
        <option value="atl">ATL</option>
        <option value="mcn">MCN</option>
        <option value="rmg">RMG</option>
        <option value="csg">CSG</option>
        <option value="ffc">(NWS) FFC</option>
        <option value="bmx">(NWS) BMX</option>
        <option value="ohx">(NWS) OHX</option>
        <option value="gsp">(NWS) GSP</option>
    </select>
    <div class="point-container">
    <h3>Meteogram</h3>
    <h3>Text Forecast</h3>
    <img loading="lazy" class="meteogramimg" id="meteogram" src="" alt="Meteogram" width="600">
    <div class="textContainer">
        <div id="textForecast">Text forecast is loading. If this takes too long (over a minute) this indicates there may be an issue with your connection or our model run/servers. If you're running this project locally or looking at the staging website unfortunately CORS rules will prevent you from fetching the text forecast from our servers.</div>
    </div>
    </div>
    <p>Product Changelog:</p>
    <ul class="textContainer">
        <li>Aloft temp colormap adjustments - Before the 2025/03/26 06z run, temperatures aloft were plotted on a poor colormap. This was adjusted in this run.</li>
        <li>Upper air maps, improved MSLP contours, reflectivity colormap improvements - Only available after the 2025/03/25 03z run. Additionally, text displaying EST before this run is actually in EDT.</li>
        <li>Wind, wind gusts - Before the 2025/03/23 21z run, the "wind gusts" product was not available and "winds" actually plotted wind gusts.</li>
        <li>Helicity Tracks, 1-Hour Snowfall, Cloud Cover, values plotted at airports - Only available after the 2025/03/23 06z run</li>
        <li>1-Hour Precip - Only available after the 2025/03/23 03z run</li>
    </ul>
    <h3>Disclaimer: Semi-operational.</h3>
    <b><p>Data on this page may be delayed, incorrect, demos, and/or missing. Products may change without notice.</p></b>
    <p>As of now, runs are stored for 30 days before being deleted.</p>
    <p>This project is open source and be found <a href="https://github.com/UGA-WRF-Club/ugawrf">here.</a></p>
    </div>
    <script src="script.js"></script>
</body>
</html>
